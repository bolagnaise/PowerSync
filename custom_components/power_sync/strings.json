{
  "config": {
    "step": {
      "user": {
        "title": "PowerSync Setup",
        "description": "Configure PowerSync to automatically sync electricity pricing to your battery system.",
        "submit_button": "Next"
      },
      "provider_selection": {
        "title": "Select Electricity Provider",
        "description": "Choose your electricity provider:\n\n**Amber Electric**: Full real-time price sync using Amber API.\n\n**Flow Power**: Wholesale electricity with Happy Hour exports. Choose AEMO or Amber pricing.\n\n**Globird**: Static tariff plans with optional AEMO spike export.\n\n**AEMO VPP**: AEMO spike detection for VPP exports (AGL, Engie, etc.).",
        "data": {
          "electricity_provider": "Electricity Provider"
        },
        "submit_button": "Next"
      },
      "flow_power_setup": {
        "title": "Flow Power",
        "description": "Enter your Flow Power details. You can find your base rate and network tariff on your Flow Power bill.",
        "data": {
          "flow_power_state": "NEM Region",
          "network_tariff_combined": "Network Tariff",
          "flow_power_base_rate": "Base Rate (c/kWh)"
        },
        "submit_button": "Next"
      },
      "flow_power_tariff": {
        "title": "Flow Power Tariff (v2)",
        "description": "Optional: Configure your DNSP network tariff for the corrected PEA formula.\n\nThe v2 formula includes GST, network charges, and daily tariff averaging for accurate pricing.\n\nSelect your network distributor and tariff code from your electricity bill, or tick **Skip** to use the legacy formula.",
        "data": {
          "skip_tariff": "Skip (use legacy formula)",
          "fp_network": "Network Distributor (DNSP)",
          "fp_tariff_code": "Tariff Code"
        },
        "data_description": {
          "fp_network": "Your local network distributor (DNSP). Filtered by your NEM region.",
          "fp_tariff_code": "The tariff code from your electricity bill (e.g. RESELE, 6900)."
        },
        "submit_button": "Next"
      },
      "amber": {
        "title": "Amber Electric Configuration",
        "description": "Enter your Amber Electric API token. You can get this from {amber_url}",
        "data": {
          "amber_api_token": "Amber API Token"
        },
        "submit_button": "Next"
      },
      "amber_settings": {
        "title": "Amber Settings",
        "description": "Configure spike protection and export boost settings.\n\nSpike protection prevents grid charging during high prices.\nExport boost triggers battery exports at lower price points.",
        "data": {
          "spike_protection_enabled": "Enable Spike Protection",
          "settled_prices_only": "Settled Prices Only (skip forecast sync)",
          "forecast_discrepancy_alert": "Forecast Discrepancy Alert",
          "forecast_discrepancy_threshold": "Discrepancy Threshold (c/kWh)",
          "force_tariff_mode_toggle": "Force Mode Toggle (faster PW response)",
          "export_boost_enabled": "Enable Export Price Boost",
          "export_price_offset": "Offset to Add (c/kWh)",
          "export_min_price": "Minimum Floor (c/kWh)",
          "export_boost_start": "Boost Start Time (HH:MM)",
          "export_boost_end": "Boost End Time (HH:MM)",
          "export_boost_threshold": "Only Boost Above (c/kWh)",
          "chip_mode_enabled": "Enable Chip Mode",
          "chip_mode_start": "Chip Mode Start Time (HH:MM)",
          "chip_mode_end": "Chip Mode End Time (HH:MM)",
          "chip_mode_threshold": "Price Threshold (c/kWh)"
        },
        "data_description": {
          "spike_protection_enabled": "When Amber detects a price spike, artificially inflate buy prices to prevent your battery from charging from grid",
          "settled_prices_only": "Skip forecast sync at :00 and only sync when actual prices arrive at :35/:60",
          "forecast_discrepancy_alert": "Send mobile notification when predicted forecast differs significantly from conservative forecast (indicates forecast may be unreliable)",
          "forecast_discrepancy_threshold": "Average price difference threshold to trigger alert. Default 10c/kWh means alert when predicted vs conservative differ by more than 10c on average",
          "force_tariff_mode_toggle": "After uploading a new tariff, briefly toggle operation mode to force immediate recalculation (Tesla only)",
          "export_boost_enabled": "Artificially increase sell prices during configured hours to encourage battery export during high-value periods",
          "export_price_offset": "Amount to ADD to the actual Amber export price. Example: Amber=18c + Offset=5c → Tesla sees 23c",
          "export_min_price": "Floor price AFTER offset is applied. Example: Amber=12c + Offset=5c = 17c → bumped up to Floor=20c",
          "export_boost_threshold": "Only apply boost when ACTUAL Amber price (before boost) is at or above this value. Prices below this are sent unchanged. Use 0 to always boost.",
          "chip_mode_enabled": "Suppress exports during configured hours unless price exceeds threshold (inverse of Export Boost)",
          "chip_mode_threshold": "Allow exports only when price is at or above this value"
        },
        "submit_button": "Next"
      },
      "aemo_config": {
        "title": "AEMO Spike Detection",
        "description": "Configure AEMO wholesale price spike detection. When prices spike above your threshold, your battery will be configured to export energy to the grid.\n\n{threshold_hint}",
        "data_description": {
          "aemo_spike_threshold": "Default: $3,000/MWh. GloBird spike exports use $3,000/MWh threshold."
        },
        "data": {
          "aemo_spike_enabled": "Enable AEMO Spike Detection",
          "aemo_region": "NEM Region",
          "aemo_spike_threshold": "Spike Threshold ($/MWh)"
        },
        "submit_button": "Next"
      },
      "octopus": {
        "title": "Octopus Energy UK Configuration",
        "description": "Configure your Octopus Energy tariff. Select your product and GSP region.\n\n**Agile Octopus**: Dynamic half-hourly pricing based on wholesale rates.\n**Octopus Go**: EV tariff with cheap overnight rates (00:30-05:30).\n**Intelligent Octopus Go**: Smart EV/battery tariff with optimised overnight rates.\n**Octopus Flux**: Solar/battery optimised import/export tariff.\n**Intelligent Octopus Flux**: Smart battery optimised import/export tariff.\n**Tracker**: Daily price tracking based on wholesale rates.\n\nFind your GSP region on your Octopus bill or at {octopus_url}",
        "data": {
          "octopus_product": "Octopus Product",
          "octopus_region": "GSP Region"
        },
        "data_description": {
          "octopus_product": "Select your Octopus tariff product",
          "octopus_region": "Your Grid Supply Point region - check your Octopus bill for your GSP code (single letter A-P)"
        },
        "submit_button": "Next"
      },
      "custom_tariff": {
        "title": "Custom Tariff Configuration",
        "description": "Configure your electricity tariff rates for battery optimisation, price sensors, and EV charging.\n\n{info}\n\n{skip_hint}",
        "data": {
          "skip_tariff": "Skip tariff configuration",
          "plan_name": "Plan Name (optional)",
          "tariff_type": "Tariff Type",
          "peak_rate": "Peak Rate (c/kWh)",
          "shoulder_rate": "Shoulder Rate (c/kWh)",
          "offpeak_rate": "Off-Peak Rate (c/kWh)",
          "super_offpeak_rate": "Super Off-Peak Rate (c/kWh)",
          "fit_rate": "Feed-in Tariff (c/kWh)",
          "peak_start": "Peak Start Time",
          "peak_end": "Peak End Time",
          "super_offpeak_start": "Super Off-Peak Start Time",
          "super_offpeak_end": "Super Off-Peak End Time"
        },
        "data_description": {
          "skip_tariff": "Check to use default estimation instead of configuring custom rates",
          "tariff_type": "Flat rate uses a single price all day. Time of Use has different prices for peak, shoulder, and off-peak periods.",
          "super_offpeak_rate": "Optional: For plans with free or cheap solar soak periods (e.g., 10am-2pm)",
          "super_offpeak_start": "Start time of super off-peak period (e.g., 10:00 for solar soak)",
          "super_offpeak_end": "End time of super off-peak period (e.g., 14:00 for solar soak)"
        },
        "submit_button": "Next"
      },
      "battery_system": {
        "title": "Select Battery System",
        "description": "Choose your battery storage system:\n\n**Tesla Powerwall**: Connect via Fleet API or Teslemetry.\n\n**Sigenergy**: Connect via Sigenergy Cloud API.\n\n**Sungrow SH-series**: Connect via Modbus TCP.\n\n**FoxESS**: Connect via Modbus TCP or RS485 serial.\n\n**GoodWe**: Connect via UDP/TCP (ET/EH/ES/EM series hybrid inverters).",
        "data": {
          "battery_system": "Battery System"
        },
        "submit_button": "Next"
      },
      "optimization_provider": {
        "title": "Choose Optimization Provider",
        "description": "Your {battery_name} has built-in battery scheduling. Choose how PowerSync should manage your battery:\n\n**{battery_name} built-in**: Use your battery's native Time-of-Use scheduling.\n\n**Smart Optimization (Built-in LP)**: Uses Linear Programming to find the optimal battery schedule — minimizing costs. No external dependencies required.",
        "data": {
          "optimization_provider": "Optimization Provider"
        },
        "submit_button": "Next"
      },
      "ml_options": {
        "title": "Smart Optimization Settings",
        "description": "Configure the backup reserve for the built-in LP optimizer.\n\nThe optimizer uses electricity price forecasts, solar generation, and load patterns to find the cost-minimizing charge/discharge schedule.",
        "data": {
          "optimization_backup_reserve": "Backup Reserve (%)"
        },
        "data_description": {
          "optimization_backup_reserve": "Minimum battery charge level to maintain (only applies to Smart Optimization)"
        },
        "submit_button": "Next"
      },
      "sungrow": {
        "title": "Sungrow Modbus Connection",
        "description": "Configure the Modbus TCP connection to your Sungrow SH-series hybrid inverter.\n\nEnter the local IP address of your Sungrow inverter or WiNet-S dongle.",
        "data": {
          "sungrow_host": "Sungrow IP Address",
          "sungrow_port": "Modbus Port",
          "sungrow_slave_id": "Modbus Slave ID"
        },
        "data_description": {
          "sungrow_host": "Local IP address of your Sungrow inverter (e.g., 192.168.1.100)",
          "sungrow_port": "Modbus TCP port (default: 502)",
          "sungrow_slave_id": "Modbus slave ID (default: 1)"
        },
        "submit_button": "Next"
      },
      "sungrow_secondary": {
        "title": "Secondary Sungrow Inverter (Optional)",
        "description": "If you have a second Sungrow SH inverter (e.g., connected to the primary's backup port), enter its connection details below.\n\nLeave the IP address blank to skip.",
        "data": {
          "sungrow_host_2": "Secondary Sungrow IP Address",
          "sungrow_port_2": "Modbus Port",
          "sungrow_slave_id_2": "Modbus Slave ID"
        },
        "data_description": {
          "sungrow_host_2": "Local IP address of your second Sungrow inverter or WiNet-S dongle (leave blank to skip)",
          "sungrow_port_2": "Modbus TCP port (default: 502)",
          "sungrow_slave_id_2": "Modbus slave ID (default: 1)"
        },
        "submit_button": "Next"
      },
      "foxess_connection": {
        "title": "FoxESS Connection Type",
        "description": "Choose how to connect to your FoxESS inverter.\n\n**Modbus TCP**: Connect over your local network (LAN/Wi-Fi).\n\n**RS485 Serial**: Direct serial connection for full register access.",
        "data": {
          "foxess_connection_type": "Connection Type"
        },
        "submit_button": "Next"
      },
      "foxess_tcp": {
        "title": "FoxESS Modbus TCP Connection",
        "description": "Configure the Modbus TCP connection to your FoxESS inverter.\n\n**H3 Smart**: Has built-in WiFi Modbus — use the inverter's IP address directly (may appear as 'espressif' on your network). Ensure inverter firmware is up to date.\n\nThe model family will be auto-detected.",
        "data": {
          "foxess_host": "FoxESS IP Address",
          "foxess_port": "Modbus Port",
          "foxess_slave_id": "Modbus Slave ID"
        },
        "data_description": {
          "foxess_host": "Local IP address of your FoxESS inverter (e.g., 192.168.1.100)",
          "foxess_port": "Modbus TCP port (default: 502)",
          "foxess_slave_id": "Modbus slave ID (default: 247)"
        },
        "submit_button": "Test Connection"
      },
      "foxess_serial": {
        "title": "FoxESS RS485 Serial Connection",
        "description": "Configure the RS485 serial connection to your FoxESS inverter.\n\nRS485 provides full register access including BMS data and charge periods.",
        "data": {
          "foxess_serial_port": "Serial Port",
          "foxess_serial_baudrate": "Baud Rate",
          "foxess_slave_id": "Modbus Slave ID"
        },
        "data_description": {
          "foxess_serial_port": "Serial device path (e.g., /dev/ttyUSB0)",
          "foxess_serial_baudrate": "Serial baud rate (default: 9600)",
          "foxess_slave_id": "Modbus slave ID (default: 247)"
        },
        "submit_button": "Test Connection"
      },
      "foxess_model": {
        "title": "Confirm FoxESS Model",
        "description": "Connection successful! Please confirm your inverter model.\n\nBoth H3-Pro and H3 Smart use the same register set. The H3 Smart has built-in WiFi Modbus and does not require an external adapter.",
        "data": {
          "foxess_model_family": "Inverter Model"
        },
        "submit_button": "Confirm"
      },
      "foxess_cloud": {
        "title": "FoxESS Cloud (Optional)",
        "description": "Optionally provide your FoxESS Cloud API key to sync Amber/Octopus prices as time-based schedules on your inverter.\n\nGet your API key from **foxesscloud.com > User Profile > API Management**.\n\nThis is **not required** for battery control — all control is done locally via Modbus.\n\nLeave blank to skip.",
        "data": {
          "foxess_cloud_api_key": "FoxESS Cloud API Key",
          "foxess_cloud_device_sn": "Device Serial Number"
        },
        "data_description": {
          "foxess_cloud_api_key": "API key from foxesscloud.com (optional)",
          "foxess_cloud_device_sn": "Inverter serial number from FoxESS Cloud (optional)"
        },
        "submit_button": "Next"
      },
      "goodwe_connection": {
        "title": "GoodWe Connection",
        "description": "Connect to your GoodWe hybrid inverter. The inverter model will be auto-detected.\n\n**UDP (default):** Port 8899 via WiFi dongle — works with most GoodWe inverters.\n**TCP:** Port 502 via LAN dongle.",
        "data": {
          "goodwe_host": "Inverter IP Address",
          "goodwe_port": "Port",
          "goodwe_protocol": "Protocol"
        },
        "submit_button": "Test Connection"
      },
      "sigenergy_credentials": {
        "title": "Sigenergy Credentials",
        "description": "Enter your Sigenergy Cloud API credentials.\n\n**Password:** Enter your Sigenergy account password.\n\n**Device ID (optional):** Usually not needed. Only required if authentication fails without it. To find it, open browser dev tools (F12), go to Network tab, login to web-aus.sigencloud.com, find the 'token' request payload → userDeviceId.",
        "data": {
          "sigenergy_username": "Sigenergy Email",
          "sigenergy_password": "Password",
          "sigenergy_device_id": "Device ID (optional)",
          "sigenergy_pass_enc": "Encrypted Password (Advanced)"
        },
        "data_description": {
          "sigenergy_password": "Your Sigenergy account password",
          "sigenergy_pass_enc": "Leave blank unless you have a pre-encoded password"
        },
        "submit_button": "Validate"
      },
      "sigenergy_station": {
        "title": "Sigenergy Station",
        "description": "Select or enter your Sigenergy Station ID.\n\nIf the station list is unavailable, enter your Station ID manually. To find it, ask SigenAI 'Tell me my StationID' in the Sigenergy app.",
        "data": {
          "sigenergy_station_id": "Station ID"
        },
        "submit_button": "Next"
      },
      "sigenergy_modbus": {
        "title": "Sigenergy Modbus Connection",
        "description": "Configure the Modbus TCP connection to your Sigenergy system.\n\n**Required for energy data:** PowerSync reads real-time solar, battery, and grid power data from your Sigenergy system via Modbus.\n\nEnter the local IP address of your Sigenergy inverter.",
        "data": {
          "sigenergy_modbus_host": "Sigenergy IP Address",
          "sigenergy_modbus_port": "Modbus Port",
          "sigenergy_modbus_slave_id": "Modbus Slave ID"
        },
        "data_description": {
          "sigenergy_modbus_host": "Local IP address of your Sigenergy inverter (e.g., 192.168.1.100)",
          "sigenergy_modbus_slave_id": "Leave at 247 (default). PowerSync auto-detects the correct registers and slave ID."
        },
        "submit_button": "Next"
      },
      "sigenergy_dc_curtailment": {
        "title": "Sigenergy DC Solar Curtailment",
        "description": "Configure DC solar curtailment for your Sigenergy system.\n\nWhen enabled, PowerSync can limit DC solar production during negative prices by setting the PV power limit via Modbus.\n\n**Note:** This is for DC solar connected directly to your Sigenergy system. AC-coupled inverters from other brands can be configured separately.",
        "data": {
          "sigenergy_dc_curtailment_enabled": "Enable DC Solar Curtailment"
        },
        "data_description": {
          "sigenergy_dc_curtailment_enabled": "Allow PowerSync to control DC solar production during negative prices"
        },
        "submit_button": "Next"
      },
      "tesla_provider": {
        "title": "Choose Tesla API Provider",
        "description": "{fleet_detected}\n\nSelect how you want to access your Tesla Powerwall. Tesla Fleet API is free but requires the Tesla Fleet integration to be installed. Teslemetry is a paid proxy service (~$4/month) that's easier to set up.",
        "data": {
          "tesla_api_provider": "Tesla API Provider"
        },
        "submit_button": "Next"
      },
      "teslemetry": {
        "title": "Teslemetry Configuration",
        "description": "Enter your Teslemetry API token. You can get this from {teslemetry_url}",
        "data": {
          "teslemetry_api_token": "Teslemetry API Token"
        },
        "submit_button": "Next"
      },
      "site_selection": {
        "title": "Site Selection",
        "description": "Select your Tesla energy site and Amber site (if you have multiple), and configure sync options.",
        "data": {
          "tesla_energy_site_id": "Tesla Energy Site",
          "amber_site_id": "Amber Site (if you have multiple)",
          "auto_sync_enabled": "Enable automatic TOU schedule syncing",
          "amber_forecast_type": "Amber Forecast Type",
          "battery_curtailment_enabled": "Enable DC Solar Curtailment (stop export at negative prices)"
        },
        "data_description": {
          "auto_sync_enabled": "Automatically upload TOU tariff schedules to your battery system based on current electricity prices",
          "amber_forecast_type": "Which Amber price forecast to use: Predicted (balanced), Low/Aggressive (assumes cheaper prices), High/Conservative (assumes higher prices)",
          "battery_curtailment_enabled": "Automatically stop battery exports and DC solar production when feed-in prices go negative to avoid paying to export"
        },
        "submit_button": "Next"
      },
      "weather_setup": {
        "title": "Weather & Solar Forecast (Optional)",
        "description": "Configure weather-based automations and solar production forecasting.\n\n**Already using Solcast HA integration?** PowerSync will automatically detect and use your existing Solcast sensors - no API key needed! Just enable Solcast below and leave the API fields blank.\n\n**New to Solcast?** Get a free API key from toolkit.solcast.com.au (10 API calls/day on hobbyist tier).",
        "data": {
          "weather_location": "Weather Location",
          "openweathermap_api_key": "OpenWeatherMap API Key",
          "solcast_enabled": "Enable Solcast Solar Forecast",
          "solcast_api_key": "Solcast API Key (optional if using Solcast HA integration)",
          "solcast_resource_id": "Solcast Resource ID(s) (optional if using Solcast HA integration)"
        },
        "data_description": {
          "weather_location": "Your suburb or city name (e.g., 'Berowra' or 'Melbourne'). For duplicate names, use full state (e.g., 'Berowra, New South Wales'). You can also use a postcode (e.g., '2081') or lat,lon coordinates (e.g., '-33.62,151.15'). Leave blank to auto-detect from timezone.",
          "openweathermap_api_key": "Free API key from openweathermap.org for weather-based automations (sunny/cloudy triggers). Leave blank to disable weather triggers.",
          "solcast_enabled": "Enable solar production forecasting. If the Solcast HA integration is installed, PowerSync will automatically read from its sensors (no API calls). Otherwise, enter your API key below.",
          "solcast_api_key": "Your Solcast API key from toolkit.solcast.com.au. **Leave blank if you have the Solcast HA integration installed** - PowerSync will use its sensors automatically.",
          "solcast_resource_id": "Your rooftop site Resource ID(s). For split arrays, enter comma-separated IDs (e.g., abc123,def456). **Leave blank if using Solcast HA integration.**"
        },
        "submit_button": "Next"
      },
      "demand_charges": {
        "title": "Demand Charge Configuration (Optional)",
        "description": "Configure demand charge tracking for electricity plans with capacity-based fees. Demand charges are applied during peak periods based on your maximum power draw. Leave 'Enable Demand Charge Tracking' unchecked to skip this step.",
        "data": {
          "demand_charge_enabled": "Enable Demand Charge Tracking",
          "demand_charge_rate": "Demand Charge Rate ($/kW)",
          "demand_charge_start_time": "Peak Period Start Time (HH:MM)",
          "demand_charge_end_time": "Peak Period End Time (HH:MM)",
          "demand_allow_grid_charging": "Allow Grid Charging During Demand Windows"
        },
        "data_description": {
          "demand_charge_enabled": "Track your peak grid draw during demand charge periods and calculate monthly capacity fees based on your highest 30-minute average",
          "demand_allow_grid_charging": "Allow the battery to charge from grid during demand peak periods. When disabled, grid charging is blocked during peak to protect against demand charges."
        },
        "submit_button": "Next"
      },
      "curtailment_setup": {
        "title": "Negative FIT Curtailment Settings",
        "description": "Configure automatic curtailment during negative feed-in tariff (FIT) prices.\n\nWhen feed-in prices go negative, you PAY to export power. These settings prevent that by stopping battery export and optionally shutting down solar production.",
        "data": {
          "battery_curtailment_enabled": "Enable Battery Export Curtailment",
          "ac_inverter_curtailment_enabled": "Enable AC-Coupled Inverter Shutdown"
        },
        "data_description": {
          "battery_curtailment_enabled": "Stop battery from exporting to grid when feed-in price is negative. Sets Tesla to self-consumption mode or Sigenergy export limit to 0. This is the MAIN toggle - must be enabled for curtailment to work.",
          "ac_inverter_curtailment_enabled": "Shutdown AC-coupled solar inverter (Fronius, Sungrow, GoodWe, Enphase, etc.) when feed-in price is negative. Use this if your solar bypasses the battery and exports directly to grid. Requires inverter IP configuration in next step."
        },
        "submit_button": "Next"
      },
      "inverter_brand_setup": {
        "title": "AC-Coupled Inverter Setup",
        "description": "Select your solar inverter brand for direct curtailment control.\n\nThis allows PowerSync to shut down your AC-coupled solar inverter when feed-in prices are negative.",
        "data": {
          "inverter_brand": "Inverter Brand"
        },
        "submit_button": "Next"
      },
      "inverter_config_setup": {
        "title": "{brand} Inverter Configuration",
        "description": "Configure your {brand} inverter connection settings.",
        "data": {
          "inverter_model": "Inverter Model",
          "inverter_host": "IP Address / Hostname",
          "inverter_port": "Port",
          "inverter_slave_id": "Modbus Slave ID",
          "inverter_token": "JWT Token (Manual)",
          "enphase_username": "Enlighten Email",
          "enphase_password": "Enlighten Password",
          "enphase_serial": "Envoy Serial (Optional)",
          "enphase_normal_profile": "Normal Grid Profile Name",
          "enphase_zero_export_profile": "Zero Export Grid Profile Name",
          "enphase_is_installer": "Installer Account",
          "inverter_restore_soc": "Restore SOC Threshold (%)",
          "fronius_load_following": "Enable Load Following Mode"
        },
        "data_description": {
          "inverter_host": "Local IP address of your inverter or gateway",
          "inverter_port": "502 for Modbus (Sungrow, Fronius, GoodWe, Huawei), 443 for Enphase",
          "inverter_slave_id": "Usually 1. GoodWe uses 247 by default.",
          "inverter_token": "Optional if using Enlighten credentials. Manual tokens expire in 12 hours for installer accounts.",
          "enphase_username": "Your Enlighten account email for automatic JWT token refresh (recommended)",
          "enphase_password": "Your Enlighten account password",
          "enphase_serial": "Leave blank to auto-detect from IQ Gateway",
          "enphase_normal_profile": "Full name of your normal grid profile (for fallback when DPEL/DER unavailable). Example: 'AS/NZS 4777.2:2020 Australia A'",
          "enphase_zero_export_profile": "Full name of a zero-export grid profile if available (for fallback curtailment)",
          "enphase_is_installer": "Enable if using an installer Enlighten account. Required for grid profile switching access.",
          "inverter_restore_soc": "Restore inverter when battery drops below this %. Ensures battery stays topped up before evening peak. Default: 98%",
          "fronius_load_following": "Enable if you DON'T have a 0W export limit configured by your installer. Uses calculated power limits based on home load and auto-detected inverter capacity. Leave OFF if you have the 0W export profile (most users)."
        },
        "submit_button": "Next"
      },
      "battery_management_mode": {
        "title": "Battery Management Mode",
        "description": "Choose how PowerSync should manage your battery:\n\n**Manual**: Use PowerSync automations to control charge/discharge.\n\n**TOU Sync**: Sync prices to battery, let battery's built-in scheduler decide.\n\n**Smart Optimization**: Built-in LP scheduling to minimize costs. No external dependencies required.",
        "data": {
          "battery_management_mode": "Battery Management Mode",
          "optimization_backup_reserve": "Backup Reserve (%)"
        },
        "data_description": {
          "battery_management_mode": "Select how PowerSync should manage your battery system",
          "optimization_backup_reserve": "Minimum battery charge level to maintain (20% recommended for backup)"
        },
        "submit_button": "Next"
      }
    },
    "error": {
      "invalid_auth": "Invalid API token. Please check your token and try again.",
      "cannot_connect": "Unable to connect to API. Please check your internet connection.",
      "no_sites": "No Amber Electric sites found for this account.",
      "no_energy_sites": "No Tesla energy sites found in your account.",
      "no_token_provided": "Please provide a Teslemetry API token.",
      "aemo_region_required": "Please select an AEMO NEM region when spike detection is enabled.",
      "aemo_required_in_aemo_mode": "AEMO spike detection is recommended for Globird/VPP plans that include spike export payments. Disable if your plan does not include this feature.",
      "missing_credentials": "Please provide your Sigenergy email and password.",
      "invalid_device_id": "Device ID must be exactly 13 digits (leave blank if not required).",
      "no_stations": "No Sigenergy stations found for this account.",
      "no_station_selected": "Please select a Sigenergy station.",
      "modbus_host_required": "Sigenergy IP address is required for energy data.",
      "sungrow_host_required": "Sungrow IP address is required for Modbus connection.",
      "sungrow_modbus_conflict": "The AC inverter and Sungrow battery have the same IP, port, and slave ID. Use a different slave ID for the AC inverter.",
      "foxess_host_required": "FoxESS IP address is required for Modbus TCP connection.",
      "foxess_tcp_failed": "Cannot connect to FoxESS inverter via Modbus TCP. Check: (1) IP address is correct — H3 Smart shows as 'espressif' on your network, (2) inverter firmware is up to date, (3) port 502 is accessible.",
      "foxess_serial_required": "Serial port path is required for RS485 connection.",
      "foxess_cloud_auth_failed": "FoxESS Cloud API key validation failed. Check your API key is correct and your account has API access enabled.",
      "foxess_cloud_connection_error": "Unable to connect to FoxESS Cloud. Check your internet connection and try again.",
      "goodwe_connect_failed": "Cannot connect to GoodWe inverter. Check IP address and ensure the inverter is online.",
      "goodwe_no_battery": "This GoodWe inverter does not have battery support (DT/MS/XS series are grid-only).",
      "zaptec_auth_failed": "Zaptec Cloud authentication failed. Check your email and password are correct.",
      "zaptec_missing_credentials": "Please provide both your Zaptec email and password.",
      "no_prices": "No Octopus prices found for this tariff and region. Check your product and GSP region are correct.",
      "optimizer_not_installed": "Smart Optimization requires scipy. Check Home Assistant logs for installation details.",
      "invalid_tariff": "Could not validate this tariff code for the selected network. Check that the tariff code matches your electricity bill.",
      "unknown": "An unexpected error occurred. Please try again."
    },
    "abort": {
      "already_configured": "PowerSync is already configured.",
      "no_energy_sites": "No Tesla energy sites found in your Teslemetry account. Please ensure you have a Powerwall or Solar system configured.",
      "no_stations": "No Sigenergy stations found for this account. Please check your credentials."
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "PowerSync Settings",
        "description": "Configure your electricity provider, Tesla API connection, and optimization settings.",
        "data": {
          "electricity_provider": "Electricity Provider",
          "tesla_api_provider": "Tesla API Provider",
          "optimization_provider": "Optimization Provider",
          "optimization_backup_reserve": "Backup Reserve (%)"
        },
        "data_description": {
          "optimization_provider": "Choose between Tesla's built-in optimization or Smart Optimization (Built-in LP)",
          "optimization_backup_reserve": "Minimum battery charge level to maintain (only applies to Smart Optimization)"
        },
        "submit_button": "Next"
      },
      "init_sigenergy": {
        "title": "PowerSync Settings",
        "description": "Configure your electricity provider, optimization settings, Sigenergy Modbus connection, and Cloud API credentials.\n\n**Modbus connection is required** to read real-time energy data.\n**Cloud API credentials are required** to sync Amber prices to your Sigenergy system.",
        "data": {
          "electricity_provider": "Electricity Provider",
          "optimization_provider": "Optimization Provider",
          "optimization_backup_reserve": "Backup Reserve (%)",
          "sigenergy_modbus_host": "Sigenergy IP Address",
          "sigenergy_modbus_port": "Modbus Port",
          "sigenergy_modbus_slave_id": "Modbus Slave ID",
          "sigenergy_dc_curtailment_enabled": "Enable DC Solar Curtailment",
          "sigenergy_username": "Sigenergy Cloud Email",
          "sigenergy_password": "Password",
          "sigenergy_pass_enc": "Encrypted Password (Advanced)",
          "sigenergy_device_id": "Device ID (optional)",
          "sigenergy_station_id": "Station ID"
        },
        "data_description": {
          "sigenergy_modbus_host": "Local IP address of your Sigenergy inverter (e.g., 192.168.1.100)",
          "sigenergy_dc_curtailment_enabled": "Allow PowerSync to limit DC solar production during negative prices",
          "sigenergy_username": "Your Sigenergy Cloud account email address",
          "sigenergy_password": "Your Sigenergy account password (leave blank to keep existing)",
          "sigenergy_pass_enc": "Pre-encoded password - leave blank unless you know what this is",
          "sigenergy_device_id": "Optional — leave blank unless authentication fails without it",
          "sigenergy_station_id": "Your Sigenergy station ID (numeric)"
        },
        "submit_button": "Next"
      },
      "init_sungrow": {
        "title": "PowerSync Settings",
        "description": "Configure your electricity provider, optimization settings, and Sungrow Modbus connection.\n\n**Modbus connection is required** to read real-time energy data and control battery settings.",
        "data": {
          "electricity_provider": "Electricity Provider",
          "optimization_provider": "Optimization Provider",
          "optimization_backup_reserve": "Backup Reserve (%)",
          "sungrow_host": "Sungrow IP Address",
          "sungrow_port": "Modbus Port",
          "sungrow_slave_id": "Modbus Slave ID",
          "sungrow_host_2": "Secondary Sungrow IP Address (Optional)",
          "sungrow_port_2": "Secondary Modbus Port",
          "sungrow_slave_id_2": "Secondary Modbus Slave ID"
        },
        "data_description": {
          "optimization_provider": "Choose between Sungrow's built-in scheduling or Smart Optimization (Built-in LP)",
          "optimization_backup_reserve": "Minimum battery charge level to maintain (only applies to Smart Optimization)",
          "sungrow_host": "Local IP address of your Sungrow inverter or WiNet-S dongle (e.g., 192.168.1.100)",
          "sungrow_port": "Modbus TCP port (default: 502)",
          "sungrow_slave_id": "Modbus slave ID (default: 1)",
          "sungrow_host_2": "IP address of a second Sungrow inverter (leave blank if not applicable)",
          "sungrow_port_2": "Modbus TCP port for secondary inverter (default: 502)",
          "sungrow_slave_id_2": "Modbus slave ID for secondary inverter (default: 1)"
        },
        "submit_button": "Next"
      },
      "init_foxess": {
        "title": "PowerSync Settings",
        "description": "Configure your electricity provider, optimization settings, and FoxESS Modbus connection.\n\n**Modbus connection is required** to read real-time energy data and control battery settings.",
        "data": {
          "electricity_provider": "Electricity Provider",
          "optimization_provider": "Optimization Provider",
          "optimization_backup_reserve": "Backup Reserve (%)",
          "foxess_connection_type": "Connection Type",
          "foxess_host": "FoxESS IP Address",
          "foxess_port": "Modbus Port",
          "foxess_slave_id": "Modbus Slave ID",
          "foxess_serial_port": "Serial Port",
          "foxess_serial_baudrate": "Baud Rate"
        },
        "data_description": {
          "optimization_provider": "Choose between FoxESS built-in scheduling or Smart Optimization (Built-in LP)",
          "optimization_backup_reserve": "Minimum battery charge level to maintain (only applies to Smart Optimization)",
          "foxess_connection_type": "Modbus TCP (LAN) or RS485 Serial",
          "foxess_host": "Local IP address of your FoxESS inverter (e.g., 192.168.1.100)",
          "foxess_port": "Modbus TCP port (default: 502)",
          "foxess_slave_id": "Modbus slave ID (default: 247)",
          "foxess_serial_port": "Serial device path (e.g., /dev/ttyUSB0) — only for RS485",
          "foxess_serial_baudrate": "Serial baud rate (default: 9600) — only for RS485"
        },
        "submit_button": "Next"
      },
      "init_goodwe": {
        "title": "PowerSync Settings",
        "description": "Configure your electricity provider, optimization settings, and GoodWe connection.\n\n**Connection is required** to read real-time energy data and control battery settings.",
        "data": {
          "electricity_provider": "Electricity Provider",
          "optimization_provider": "Optimization Provider",
          "optimization_backup_reserve": "Backup Reserve (%)",
          "goodwe_host": "GoodWe IP Address",
          "goodwe_protocol": "Protocol",
          "goodwe_port": "Port"
        },
        "data_description": {
          "optimization_provider": "Choose between GoodWe built-in scheduling or Smart Optimization (Built-in LP)",
          "optimization_backup_reserve": "Minimum battery charge level to maintain (only applies to Smart Optimization)",
          "goodwe_host": "Local IP address of your GoodWe inverter (e.g., 192.168.1.100)",
          "goodwe_protocol": "UDP (WiFi dongle, port 8899) or TCP (LAN dongle, port 502)",
          "goodwe_port": "Connection port (default: 8899 for UDP, 502 for TCP)"
        },
        "submit_button": "Next"
      },
      "teslemetry_token": {
        "title": "Teslemetry Configuration",
        "description": "Enter your Teslemetry API token. You can get this from https://teslemetry.com",
        "data": {
          "teslemetry_api_token": "Teslemetry API Token"
        },
        "submit_button": "Next"
      },
      "amber_options": {
        "title": "Amber Electric Options",
        "description": "Configure Amber Electric TOU sync, export boost, and pricing options.",
        "data": {
          "auto_sync_enabled": "Enable automatic TOU schedule syncing",
          "amber_forecast_type": "Amber Forecast Type",
          "battery_curtailment_enabled": "Enable DC Solar Curtailment (stop export at negative prices)",
          "spike_protection_enabled": "Enable Spike Protection (prevent grid charging during spikes)",
          "settled_prices_only": "Settled Prices Only (skip forecast sync)",
          "forecast_discrepancy_alert": "Forecast Discrepancy Alert",
          "forecast_discrepancy_threshold": "Discrepancy Threshold (c/kWh)",
          "force_tariff_mode_toggle": "Force Mode Toggle (ALPHA) - faster PW response",
          "export_boost_enabled": "Enable Export Price Boost",
          "export_price_offset": "Offset to Add (c/kWh)",
          "export_min_price": "Minimum Floor (c/kWh)",
          "export_boost_start": "Boost Start Time (HH:MM)",
          "export_boost_end": "Boost End Time (HH:MM)",
          "export_boost_threshold": "Only Boost Above (c/kWh)",
          "chip_mode_enabled": "Enable Chip Mode",
          "chip_mode_start": "Chip Mode Start Time (HH:MM)",
          "chip_mode_end": "Chip Mode End Time (HH:MM)",
          "chip_mode_threshold": "Price Threshold (c/kWh)",
          "ac_inverter_curtailment_enabled": "Enable AC-Coupled Inverter Curtailment",
          "inverter_brand": "Inverter Brand",
          "inverter_model": "Inverter Model",
          "inverter_host": "Inverter IP Address",
          "inverter_port": "Modbus Port",
          "inverter_slave_id": "Modbus Slave ID"
        },
        "data_description": {
          "auto_sync_enabled": "Automatically upload TOU tariff schedules to your battery system based on current electricity prices",
          "amber_forecast_type": "Which Amber price forecast to use: Predicted (balanced), Low/Aggressive (assumes cheaper prices), High/Conservative (assumes higher prices)",
          "battery_curtailment_enabled": "Automatically stop battery exports and DC solar production when feed-in prices go negative to avoid paying to export",
          "spike_protection_enabled": "When Amber detects a price spike, artificially inflate buy prices to prevent your battery from charging from grid (stops arbitrage behavior)",
          "ac_inverter_curtailment_enabled": "Shutdown AC-coupled solar inverter when feed-in price is negative (stops solar export that bypasses your battery)",
          "settled_prices_only": "Skip the initial forecast sync at :00 and only sync when actual/settled prices arrive at :35/:60 seconds. Use this if forecast prices differ significantly from settled prices.",
          "forecast_discrepancy_alert": "Send mobile notification when predicted forecast differs significantly from conservative forecast. Useful when using 'predicted' forecast type to detect unreliable forecasts.",
          "forecast_discrepancy_threshold": "Average price difference threshold to trigger alert. Default 10c/kWh means alert when predicted vs conservative differ by more than 10c on average across forecast periods.",
          "force_tariff_mode_toggle": "After uploading a new tariff, briefly toggle operation mode to force immediate recalculation of battery behavior (Tesla only, ~5 second interruption)",
          "export_boost_enabled": "Artificially increase sell prices during configured hours to encourage battery export during high-value periods",
          "export_price_offset": "Amount to ADD to the actual Amber export price. Example: Amber=18c + Offset=5c → Tesla sees 23c",
          "export_min_price": "Floor price AFTER offset is applied. Example: Amber=12c + Offset=5c = 17c → bumped up to Floor=20c",
          "export_boost_threshold": "Only apply boost when ACTUAL Amber price (before boost) is at or above this value. Prices below this are sent unchanged. Use 0 to always boost.",
          "chip_mode_enabled": "Suppress exports during configured hours unless price exceeds threshold (inverse of Export Boost)",
          "chip_mode_threshold": "Allow exports only when price is at or above this value"
        },
        "submit_button": "Next"
      },
      "flow_power_options": {
        "title": "Flow Power Settings",
        "description": "Core Flow Power configuration.",
        "data": {
          "flow_power_state": "NEM Region",
          "flow_power_price_source": "Price Source",
          "network_tariff_combined": "Network Tariff",
          "flow_power_base_rate": "Base Rate (c/kWh)",
          "pea_enabled": "Enable PEA Pricing (Recommended)",
          "auto_sync_enabled": "Enable automatic TOU schedule syncing",
          "fp_network": "V2 Tariff: Network Distributor",
          "fp_tariff_code": "V2 Tariff: Tariff Code",
          "fp_twap_override": "TWAP Override (c/kWh)",
          "fp_amber_markup": "Amber Comparison Markup (c/kWh)"
        },
        "data_description": {
          "flow_power_price_source": "AEMO Direct fetches wholesale prices from NEMWeb (no API key needed). Amber API uses your Amber Electric account for pricing.",
          "pea_enabled": "PEA reflects how Flow Power actually bills you: your final rate moves with wholesale prices. Final Rate = Base Rate + (Wholesale - 9.7c). Disable only if you want flat network tariff rates instead.",
          "auto_sync_enabled": "Automatically upload TOU tariff schedules to your battery system based on current electricity prices",
          "fp_network": "Select your DNSP for the v2 PEA formula (includes GST and network charges). Leave as None to use the legacy formula.",
          "fp_tariff_code": "Your tariff code from your electricity bill. Must match the selected network distributor.",
          "fp_twap_override": "Override the dynamic 30-day TWAP with a fixed value. Leave empty to use the rolling average. Useful when the 30-day average is skewed by price spikes.",
          "fp_amber_markup": "Retailer margin used for the Amber comparison sensor. Leave empty for the regional default (~4 c/kWh)."
        },
        "submit_button": "Next"
      },
      "flow_power_amber_token": {
        "title": "Amber API Token",
        "description": "Enter your Amber Electric API token. You can get this from {amber_url}",
        "data": {
          "amber_api_token": "Amber API Token"
        },
        "submit_button": "Next"
      },
      "flow_power_network_options": {
        "title": "Flow Power Options",
        "description": "These options are for advanced users and aren't typically required.",
        "data": {
          "pea_custom_value": "Custom PEA Override (c/kWh, leave empty for auto)",
          "network_use_manual_rates": "Use manual network rates",
          "network_tariff_type": "Network Tariff Type",
          "network_flat_rate": "Flat Rate (c/kWh)",
          "network_peak_rate": "Peak Rate (c/kWh)",
          "network_shoulder_rate": "Shoulder Rate (c/kWh)",
          "network_offpeak_rate": "Off-Peak Rate (c/kWh)",
          "network_peak_start": "Peak Start Time",
          "network_peak_end": "Peak End Time",
          "network_offpeak_start": "Off-Peak Start Time",
          "network_offpeak_end": "Off-Peak End Time",
          "network_other_fees": "Other Fees (c/kWh)",
          "network_include_gst": "Include GST (10%)"
        },
        "data_description": {
          "pea_custom_value": "Override the calculated PEA value with a fixed amount. Leave empty to use the automatic calculation.",
          "network_use_manual_rates": "Enter network tariff rates manually instead of using the automatic lookup from your selected tariff.",
          "network_other_fees": "Additional per-kWh fees not covered by the network tariff (e.g. metering, environmental charges).",
          "network_include_gst": "Add 10% GST on top of the network tariff rates."
        },
        "submit_button": "Next"
      },
      "globird_options": {
        "title": "Globird Settings",
        "description": "Configure your Globird plan settings.\n\n**AEMO Spike Export** (optional): If your plan includes spike export payments, enable this to automatically export when AEMO wholesale prices exceed your threshold. GloBird uses a $3,000/MWh spike threshold by default.\n\n{tariff_hint}",
        "data": {
          "aemo_spike_enabled": "Enable AEMO Spike Export",
          "aemo_region": "AEMO NEM Region",
          "aemo_spike_threshold": "Spike Threshold ($/MWh)",
          "configure_custom_tariff": "Configure Custom Tariff"
        },
        "data_description": {
          "aemo_spike_enabled": "Enable if your Globird plan includes payments for exporting during AEMO price spikes. Not all plans include this feature.",
          "configure_custom_tariff": "Recommended: your TOU rates are needed for accurate price sensors, battery optimisation, and EV charging"
        },
        "submit_button": "Next"
      },
      "octopus_options": {
        "title": "Octopus Energy UK Options",
        "description": "Configure your Octopus Energy tariff settings.\n\n**Product**: Select your Octopus tariff product (Agile, Go, Intelligent Go, Flux, Intelligent Flux, or Tracker).\n**GSP Region**: Your Grid Supply Point region (A-P).\n\nFind your GSP region on your Octopus bill or at {octopus_url}",
        "data": {
          "octopus_product": "Octopus Product",
          "octopus_region": "GSP Region",
          "auto_sync_enabled": "Enable automatic TOU schedule syncing",
          "battery_curtailment_enabled": "Enable Battery Export Curtailment (stop export at negative prices)"
        },
        "data_description": {
          "octopus_product": "Select your Octopus tariff product",
          "octopus_region": "Your Grid Supply Point region - check your Octopus bill for your GSP code (single letter A-P)",
          "auto_sync_enabled": "Automatically upload TOU tariff schedules to your battery system based on current electricity prices",
          "battery_curtailment_enabled": "Stop battery from exporting when prices are negative to avoid paying to export"
        },
        "submit_button": "Next"
      },
      "custom_tariff_options": {
        "title": "Custom Tariff Configuration",
        "description": "Configure your electricity tariff rates for battery optimisation, price sensors, and EV charging.\n\n{info}",
        "data": {
          "plan_name": "Plan Name (optional)",
          "tariff_type": "Tariff Type",
          "peak_rate": "Peak Rate (c/kWh)",
          "shoulder_rate": "Shoulder Rate (c/kWh)",
          "offpeak_rate": "Off-Peak Rate (c/kWh)",
          "super_offpeak_rate": "Super Off-Peak Rate (c/kWh)",
          "fit_rate": "Feed-in Tariff (c/kWh)",
          "peak_start": "Peak Start Time",
          "peak_end": "Peak End Time",
          "super_offpeak_start": "Super Off-Peak Start Time",
          "super_offpeak_end": "Super Off-Peak End Time"
        },
        "data_description": {
          "tariff_type": "Flat rate uses a single price all day. Time of Use has different prices for peak, shoulder, and off-peak periods.",
          "super_offpeak_rate": "Optional: For plans with free or cheap solar soak periods (e.g., 10am-2pm)",
          "super_offpeak_start": "Start time of super off-peak period (e.g., 10:00 for solar soak)",
          "super_offpeak_end": "End time of super off-peak period (e.g., 14:00 for solar soak)"
        },
        "submit_button": "Next"
      },
      "inverter_brand": {
        "title": "AC-Coupled Inverter Setup",
        "description": "Select your solar inverter brand for direct curtailment control.\n\nThis allows PowerSync to shut down your AC-coupled solar inverter when feed-in prices are negative.",
        "data": {
          "inverter_brand": "Inverter Brand"
        },
        "submit_button": "Next"
      },
      "inverter_config": {
        "title": "{brand} Inverter Configuration",
        "description": "Configure your {brand} inverter connection settings.",
        "data": {
          "inverter_model": "Inverter Model",
          "inverter_host": "IP Address / Hostname",
          "inverter_port": "Port",
          "inverter_slave_id": "Modbus Slave ID",
          "inverter_token": "JWT Token (Manual)",
          "enphase_username": "Enlighten Email",
          "enphase_password": "Enlighten Password",
          "enphase_serial": "Envoy Serial (Optional)",
          "enphase_normal_profile": "Normal Grid Profile Name",
          "enphase_zero_export_profile": "Zero Export Grid Profile Name",
          "enphase_is_installer": "Installer Account",
          "inverter_restore_soc": "Restore SOC Threshold (%)",
          "fronius_load_following": "Enable Load Following Mode"
        },
        "data_description": {
          "inverter_host": "Local IP address of your inverter or gateway",
          "inverter_port": "502 for Modbus (Sungrow, Fronius, GoodWe, Huawei), 443 for Enphase",
          "inverter_slave_id": "Usually 1. GoodWe uses 247 by default.",
          "inverter_token": "Optional if using Enlighten credentials. Manual tokens expire in 12 hours for installer accounts.",
          "enphase_username": "Your Enlighten account email for automatic JWT token refresh (recommended)",
          "enphase_password": "Your Enlighten account password",
          "enphase_serial": "Leave blank to auto-detect from IQ Gateway",
          "enphase_normal_profile": "Full name of your normal grid profile (for fallback when DPEL/DER unavailable). Example: 'AS/NZS 4777.2:2020 Australia A'",
          "enphase_zero_export_profile": "Full name of a zero-export grid profile if available (for fallback curtailment)",
          "enphase_is_installer": "Enable if using an installer Enlighten account. Required for grid profile switching access.",
          "inverter_restore_soc": "Restore inverter when battery drops below this %. Ensures battery stays topped up before evening peak. Default: 98%",
          "fronius_load_following": "Enable if you DON'T have a 0W export limit configured by your installer. Uses calculated power limits based on home load and auto-detected inverter capacity. Leave OFF if you have the 0W export profile (most users)."
        },
        "submit_button": "Next"
      },
      "curtailment_options": {
        "title": "Curtailment & Weather Settings",
        "description": "Configure automatic curtailment during negative feed-in tariff (FIT) prices.\n\nWhen feed-in prices go negative, you PAY to export power. These settings prevent that by stopping battery export and optionally shutting down solar production.\n\n**Weather automations** are independent of curtailment and can be configured on the Weather & Solar Forecast page.",
        "data": {
          "battery_curtailment_enabled": "Enable Battery Export Curtailment",
          "ac_inverter_curtailment_enabled": "Enable AC-Coupled Inverter Shutdown",
          "sigenergy_dc_curtailment_enabled": "Enable DC Solar Curtailment (Sigenergy)",
          "openweathermap_api_key": "OpenWeatherMap API Key (Optional)"
        },
        "data_description": {
          "battery_curtailment_enabled": "Stop battery from exporting to grid when feed-in price is negative. Sets Tesla to self-consumption mode or Sigenergy export limit to 0. This is the MAIN toggle - must be enabled for curtailment to work.",
          "ac_inverter_curtailment_enabled": "Shutdown AC-coupled solar inverter (Fronius, Sungrow, GoodWe, Enphase, etc.) when feed-in price is negative. Use this if your solar bypasses the battery and exports directly to grid. Requires inverter IP configuration in next step.",
          "sigenergy_dc_curtailment_enabled": "Limit DC solar production via Sigenergy Modbus when feed-in price is negative. Only applies to Sigenergy systems with DC-coupled solar.",
          "openweathermap_api_key": "Free API key from openweathermap.org for weather-based automations (sunny/cloudy triggers). Leave blank to disable weather triggers."
        },
        "submit_button": "Next"
      },
      "demand_charge_options": {
        "title": "Network Demand Charges (Optional)",
        "description": "Configure demand charge tracking for electricity plans with capacity-based network fees.\n\nDemand charges are based on your peak power draw during specified periods. Your network provider charges a monthly fee based on your highest 30-minute average demand.\n\nLeave 'Enable Demand Charge Tracking' unchecked if your plan does not have demand charges.",
        "data": {
          "demand_charge_enabled": "Enable Demand Charge Tracking",
          "demand_charge_rate": "Demand Charge Rate ($/kW)",
          "demand_charge_start_time": "Peak Period Start Time (HH:MM)",
          "demand_charge_end_time": "Peak Period End Time (HH:MM)",
          "demand_charge_days": "Demand Charge Days",
          "demand_charge_billing_day": "Billing Cycle Reset Day",
          "demand_charge_apply_to": "Apply Demand Charge To",
          "demand_artificial_price_enabled": "Apply Artificial Price During Demand Peak",
          "demand_allow_grid_charging": "Allow Grid Charging During Demand Windows",
          "daily_supply_charge": "Daily Supply Charge ($)",
          "monthly_supply_charge": "Monthly Supply Charge ($)"
        },
        "data_description": {
          "demand_charge_enabled": "Track your peak grid draw during demand charge periods and calculate monthly capacity fees based on your highest 30-minute average",
          "demand_charge_rate": "Your network demand charge rate in dollars per kW of peak demand",
          "demand_charge_start_time": "Start time of the demand charge peak measurement period",
          "demand_charge_end_time": "End time of the demand charge peak measurement period",
          "demand_charge_days": "Which days demand charges apply",
          "demand_charge_billing_day": "Day of month when the billing cycle resets (1-28)",
          "demand_charge_apply_to": "Whether demand charges apply to grid imports, exports, or both",
          "demand_artificial_price_enabled": "Add an artificial price component during demand peak periods to discourage grid draw",
          "demand_allow_grid_charging": "Allow the battery to charge from grid during demand peak periods. When disabled, grid charging is blocked during peak to protect against demand charges.",
          "daily_supply_charge": "Your daily electricity supply charge for cost tracking",
          "monthly_supply_charge": "Your monthly electricity supply charge for cost tracking"
        },
        "submit_button": "Next"
      },
      "ev_charging_setup": {
        "title": "EV Charging & OCPP",
        "description": "Configure EV charger control. Each section below is independent — only enable the one(s) that match your setup.\n\n**Tesla EV** — Control Tesla vehicle charging via API or Bluetooth.\n**OCPP** — Connect any OCPP 1.6-compliant charger (e.g. Wallbox, ABB, Easee).\n**Zaptec** — Connect Zaptec chargers via HA integration or direct Cloud API.",
        "data": {
          "ev_charging_enabled": "[Tesla] Enable EV Charging Control",
          "ev_provider": "[Tesla] Control Method",
          "tesla_ble_entity_prefix": "[Tesla] BLE Entity Prefix",
          "ocpp_enabled": "[OCPP] Enable OCPP Central System",
          "ocpp_port": "[OCPP] WebSocket Port",
          "zaptec_charger_entity": "[Zaptec] Charger Entity (HA Integration)",
          "zaptec_installation_id": "[Zaptec] Installation ID",
          "zaptec_standalone_enabled": "[Zaptec] Enable Standalone Cloud API"
        },
        "data_description": {
          "ev_charging_enabled": "Enable smart charging control for Tesla vehicles. Not required for OCPP or Zaptec chargers.",
          "ev_provider": "Fleet API/Teslemetry uses cloud API. Tesla BLE uses local Bluetooth via ESPHome. Teslemetry Bluetooth uses native HA integration. Both uses local BLE with Fleet API fallback.",
          "tesla_ble_entity_prefix": "Must match your ESPHome device name. Example: if your entities are sensor.my_tesla_charge_level, enter 'my_tesla'. Default: tesla_ble.",
          "ocpp_enabled": "Run an OCPP 1.6J WebSocket server. Independent of Tesla — enable this for OCPP-compatible chargers. Chargers connect to ws://your-ha-ip:port/charger_id",
          "ocpp_port": "Port for OCPP WebSocket server. Default: 9000.",
          "zaptec_charger_entity": "Entity ID from the Zaptec HA integration (e.g. switch.zaptec_charger). Leave blank if not using Zaptec or if using standalone mode.",
          "zaptec_installation_id": "Installation device ID for current limiting. Found in the Zaptec HA integration device list. Leave blank to auto-detect.",
          "zaptec_standalone_enabled": "Connect directly to Zaptec Cloud API without the Zaptec HA integration. You'll be prompted for your Zaptec account credentials on the next page."
        },
        "submit_button": "Submit"
      },
      "zaptec_cloud": {
        "title": "Zaptec Cloud Credentials",
        "description": "Enter your Zaptec account credentials to connect directly to the Zaptec Cloud API.\n\nPowerSync will auto-discover your chargers and installations.",
        "data": {
          "zaptec_username": "Zaptec Email",
          "zaptec_password": "Zaptec Password"
        },
        "data_description": {
          "zaptec_username": "Your Zaptec account email address (same as Zaptec Portal login).",
          "zaptec_password": "Your Zaptec account password."
        },
        "submit_button": "Connect"
      },
      "ev_charging": {
        "title": "EV Charging & OCPP",
        "description": "Configure EV charger control. Each section below is independent — only enable the one(s) that match your setup.\n\n**Tesla EV** — Control Tesla vehicle charging via API or Bluetooth.\n**OCPP** — Connect any OCPP 1.6-compliant charger (e.g. Wallbox, ABB, Easee).\n**Zaptec** — Connect Zaptec chargers via HA integration or direct Cloud API.",
        "data": {
          "ev_charging_enabled": "[Tesla] Enable EV Charging Control",
          "ev_provider": "[Tesla] Control Method",
          "tesla_ble_entity_prefix": "[Tesla] BLE Entity Prefix",
          "ocpp_enabled": "[OCPP] Enable OCPP Central System",
          "ocpp_port": "[OCPP] WebSocket Port",
          "zaptec_charger_entity": "[Zaptec] Charger Entity (HA Integration)",
          "zaptec_installation_id": "[Zaptec] Installation ID",
          "zaptec_standalone_enabled": "[Zaptec] Enable Standalone Cloud API"
        },
        "data_description": {
          "ev_charging_enabled": "Enable smart charging control for Tesla vehicles. Not required for OCPP or Zaptec chargers.",
          "ev_provider": "Fleet API/Teslemetry uses cloud API. Tesla BLE uses local Bluetooth via ESPHome. Teslemetry Bluetooth uses native HA integration. Both uses local BLE with Fleet API fallback.",
          "tesla_ble_entity_prefix": "Must match your ESPHome device name. Example: if your entities are sensor.my_tesla_charge_level, enter 'my_tesla'. Default: tesla_ble.",
          "ocpp_enabled": "Run an OCPP 1.6J WebSocket server. Independent of Tesla — enable this for OCPP-compatible chargers. Chargers connect to ws://your-ha-ip:port/charger_id",
          "ocpp_port": "Port for OCPP WebSocket server. Default: 9000.",
          "zaptec_charger_entity": "Entity ID from the Zaptec HA integration (e.g. switch.zaptec_charger). Leave blank if not using Zaptec or if using standalone mode.",
          "zaptec_installation_id": "Installation device ID for current limiting. Found in the Zaptec HA integration device list. Leave blank to auto-detect.",
          "zaptec_standalone_enabled": "Connect directly to Zaptec Cloud API without the Zaptec HA integration. You'll be prompted for your Zaptec account credentials on the next page."
        },
        "submit_button": "Submit"
      },
      "zaptec_cloud_options": {
        "title": "Zaptec Cloud Credentials",
        "description": "Enter your Zaptec account credentials to connect directly to the Zaptec Cloud API.\n\nPowerSync will auto-discover your chargers and installations.",
        "data": {
          "zaptec_username": "Zaptec Email",
          "zaptec_password": "Zaptec Password"
        },
        "data_description": {
          "zaptec_username": "Your Zaptec account email address (same as Zaptec Portal login).",
          "zaptec_password": "Your Zaptec account password."
        },
        "submit_button": "Connect"
      },
      "weather_options": {
        "title": "Weather & Solar Forecast",
        "description": "Configure weather-based automations and solar production forecasting.\n\n**Already using Solcast HA integration?** PowerSync will automatically detect and use your existing Solcast sensors - no API key needed! Just enable Solcast below and leave the API fields blank.",
        "data": {
          "weather_location": "Weather Location",
          "openweathermap_api_key": "OpenWeatherMap API Key",
          "solcast_enabled": "Enable Solcast Solar Forecast",
          "solcast_api_key": "Solcast API Key (optional if using Solcast HA integration)",
          "solcast_resource_id": "Solcast Resource ID(s) (optional if using Solcast HA integration)"
        },
        "data_description": {
          "weather_location": "Your suburb or city name (e.g., 'Berowra' or 'Melbourne'). For duplicate names, use full state (e.g., 'Berowra, New South Wales'). You can also use a postcode (e.g., '2081') or lat,lon coordinates (e.g., '-33.62,151.15'). Leave blank to auto-detect from timezone.",
          "openweathermap_api_key": "Free API key from openweathermap.org for weather-based automations (sunny/cloudy triggers). Leave blank to disable weather triggers.",
          "solcast_enabled": "Enable solar production forecasting. If the Solcast HA integration is installed, PowerSync will automatically read from its sensors (no API calls).",
          "solcast_api_key": "Your Solcast API key from toolkit.solcast.com.au. **Leave blank if you have the Solcast HA integration installed.**",
          "solcast_resource_id": "Your rooftop site Resource ID(s). For split arrays, enter comma-separated IDs (e.g., abc123,def456). **Leave blank if using Solcast HA integration.**"
        },
        "submit_button": "Next"
      }
    }
  },
  "entity": {
    "sensor": {
      "current_price": {
        "name": "Current Electricity Price"
      },
      "solar_power": {
        "name": "Solar Power"
      },
      "grid_power": {
        "name": "Grid Power"
      },
      "battery_power": {
        "name": "Battery Power"
      },
      "home_load": {
        "name": "Home Load"
      },
      "battery_level": {
        "name": "Battery Level"
      },
      "grid_import_power": {
        "name": "Grid Import Power"
      },
      "in_demand_charge_period": {
        "name": "In Demand Charge Period"
      },
      "peak_demand_this_cycle": {
        "name": "Peak Demand This Cycle"
      },
      "demand_charge_cost": {
        "name": "Demand Charge Cost This Month"
      },
      "days_until_demand_reset": {
        "name": "Days Until Demand Reset"
      },
      "aemo_price": {
        "name": "AEMO Wholesale Price"
      },
      "aemo_spike_status": {
        "name": "AEMO Spike Status"
      },
      "tariff_schedule": {
        "name": "Tariff Schedule"
      },
      "flow_power_price": {
        "name": "Flow Power Import Price"
      },
      "flow_power_export_price": {
        "name": "Flow Power Export Price"
      },
      "flow_power_twap": {
        "name": "Flow Power TWAP 30-Day Average"
      },
      "flow_power_network_tariff": {
        "name": "Flow Power Network Tariff"
      },
      "flow_power_amber_comparison": {
        "name": "Flow Power Amber Comparison"
      },
      "inverter_status": {
        "name": "Inverter Status"
      },
      "solcast_today_forecast": {
        "name": "Solar Forecast Today"
      },
      "solcast_tomorrow_forecast": {
        "name": "Solar Forecast Tomorrow"
      },
      "solcast_current_estimate": {
        "name": "Solar Current Estimate"
      },
      "amber_usage_yesterday_cost": {
        "name": "Yesterday Billed Cost"
      },
      "amber_usage_yesterday_savings": {
        "name": "Yesterday Battery Savings"
      },
      "amber_usage_month_cost": {
        "name": "Month To Date Billed Cost"
      },
      "amber_usage_month_savings": {
        "name": "Month To Date Battery Savings"
      }
    },
    "switch": {
      "auto_sync": {
        "name": "Auto-Sync TOU Schedule"
      }
    }
  },
  "services": {
    "sync_tou_schedule": {
      "name": "Sync TOU Schedule",
      "description": "Manually trigger a sync of Time-of-Use schedule from Amber to Tesla"
    },
    "sync_now": {
      "name": "Sync Now",
      "description": "Immediately refresh data from Amber and Tesla"
    }
  }
}
